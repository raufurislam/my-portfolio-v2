(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41369,e=>{"use strict";e.s(["ExternalLink",()=>t],41369);let t=(0,e.i(13378).default)("external-link",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},8482,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(13378).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},45824,e=>{"use strict";e.s(["RefreshCw",()=>t],45824);let t=(0,e.i(13378).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},21914,e=>{"use strict";e.s(["MoreVertical",()=>t.default]);var t=e.i(12632)},92383,99271,e=>{"use strict";e.s(["Edit",()=>s],92383);var t=e.i(13378);let s=(0,t.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);e.s(["Trash2",()=>a],99271);let a=(0,t.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},76639,62639,e=>{"use strict";e.s(["Dialog",()=>i,"DialogContent",()=>o,"DialogDescription",()=>u,"DialogFooter",()=>h,"DialogHeader",()=>c,"DialogTitle",()=>m],76639);var t=e.i(78196),s=e.i(49430),a=e.i(68594),l=e.i(23961),n=e.i(75157);let i=a.Root;a.Trigger;let r=a.Portal;a.Close;let d=s.forwardRef((e,s)=>{let{className:l,...i}=e;return(0,t.jsx)(a.Overlay,{ref:s,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",l),...i})});d.displayName=a.Overlay.displayName;let o=s.forwardRef((e,s)=>{let{className:i,children:o,...c}=e;return(0,t.jsxs)(r,{children:[(0,t.jsx)(d,{}),(0,t.jsxs)(a.Content,{ref:s,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",i),...c,children:[o,(0,t.jsxs)(a.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(l.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});o.displayName=a.Content.displayName;let c=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};c.displayName="DialogHeader";let h=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};h.displayName="DialogFooter";let m=s.forwardRef((e,s)=>{let{className:l,...i}=e;return(0,t.jsx)(a.Title,{ref:s,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",l),...i})});m.displayName=a.Title.displayName;let u=s.forwardRef((e,s)=>{let{className:l,...i}=e;return(0,t.jsx)(a.Description,{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",l),...i})});u.displayName=a.Description.displayName,e.s(["AlertTriangle",()=>x],62639);let x=(0,e.i(13378).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},74966,e=>{"use strict";e.s(["Plus",()=>t],74966);let t=(0,e.i(13378).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},23961,e=>{"use strict";e.s(["X",()=>t.default]);var t=e.i(71456)},15288,e=>{"use strict";e.s(["Card",()=>l,"CardContent",()=>d,"CardDescription",()=>r,"CardHeader",()=>n,"CardTitle",()=>i]);var t=e.i(78196),s=e.i(49430),a=e.i(75157);let l=s.forwardRef((e,s)=>{let{className:l,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",l),...n})});l.displayName="Card";let n=s.forwardRef((e,s)=>{let{className:l,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",l),...n})});n.displayName="CardHeader";let i=s.forwardRef((e,s)=>{let{className:l,...n}=e;return(0,t.jsx)("h3",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",l),...n})});i.displayName="CardTitle";let r=s.forwardRef((e,s)=>{let{className:l,...n}=e;return(0,t.jsx)("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",l),...n})});r.displayName="CardDescription";let d=s.forwardRef((e,s)=>{let{className:l,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",l),...n})});d.displayName="CardContent",s.forwardRef((e,s)=>{let{className:l,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",l),...n})}).displayName="CardFooter"},50339,15605,e=>{"use strict";e.s(["default",()=>v],50339);var t=e.i(78196),s=e.i(49430),a=e.i(19455),l=e.i(13378);let n=(0,l.default)("bold",[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]]),i=(0,l.default)("italic",[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]]),r=(0,l.default)("underline",[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]]),d=(0,l.default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]),o=(0,l.default)("list-ordered",[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]]),c=(0,l.default)("link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),h=(0,l.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),m=(0,l.default)("text-align-start",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]]),u=(0,l.default)("text-align-center",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]]),x=(0,l.default)("text-align-end",[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]]),g=(0,l.default)("quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]),p=(0,l.default)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),f=(0,l.default)("heading-1",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]]),j=(0,l.default)("heading-2",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]]),y=(0,l.default)("heading-3",[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]]),b=(0,l.default)("type",[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]]);function v(e){let{value:l,onChange:v,placeholder:N="Write your content..."}=e,w=(0,s.useRef)(null),[k,C]=(0,s.useState)(!1),[M,B]=(0,s.useState)(!1);(0,s.useEffect)(()=>{C(!0)},[]),(0,s.useEffect)(()=>{w.current&&void 0!==l&&(console.log("QuillEditor: Setting content:",l),w.current.innerHTML=l||"",B(!0))},[l]),(0,s.useEffect)(()=>{let e=setTimeout(()=>{w.current&&l&&!M&&(w.current.innerHTML=l,B(!0))},100);return()=>clearTimeout(e)},[l,M]);let z=(e,t)=>{var s;document.execCommand(e,!1,t),null==(s=w.current)||s.focus(),T()},T=()=>{w.current&&v(w.current.innerHTML)},D=e=>{z("formatBlock","h".concat(e))};return k?(0,t.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,t.jsxs)("div",{className:"border-b bg-muted/50 p-2 flex flex-wrap gap-1",children:[(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>D(1),title:"Make Heading 1 (select text first)",children:(0,t.jsx)(f,{className:"w-4 h-4"})}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>D(2),title:"Make Heading 2 (select text first)",children:(0,t.jsx)(j,{className:"w-4 h-4"})}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>D(3),title:"Make Heading 3 (select text first)",children:(0,t.jsx)(y,{className:"w-4 h-4"})}),(0,t.jsx)("div",{className:"w-px h-6 bg-border mx-1"}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>z("bold"),title:"Bold",children:(0,t.jsx)(n,{className:"w-4 h-4"})}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>z("italic"),title:"Italic",children:(0,t.jsx)(i,{className:"w-4 h-4"})}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>z("underline"),title:"Underline",children:(0,t.jsx)(r,{className:"w-4 h-4"})}),(0,t.jsx)("div",{className:"w-px h-6 bg-border mx-1"}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>z("insertUnorderedList"),title:"Bullet List",children:(0,t.jsx)(d,{className:"w-4 h-4"})}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>z("insertOrderedList"),title:"Numbered List",children:(0,t.jsx)(o,{className:"w-4 h-4"})}),(0,t.jsx)("div",{className:"w-px h-6 bg-border mx-1"}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{let e=prompt("Enter URL:");e&&z("createLink",e)},title:"Insert Link",children:(0,t.jsx)(c,{className:"w-4 h-4"})}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{let e=prompt("Enter image URL:");e&&z("insertHTML",'<img src="'.concat(e,'" alt="Image" style="max-width: 100%; height: auto;" />'))},title:"Insert Image",children:(0,t.jsx)(h,{className:"w-4 h-4"})}),(0,t.jsx)("div",{className:"w-px h-6 bg-border mx-1"}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>z("justifyLeft"),title:"Align Left",children:(0,t.jsx)(m,{className:"w-4 h-4"})}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>z("justifyCenter"),title:"Align Center",children:(0,t.jsx)(u,{className:"w-4 h-4"})}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>z("justifyRight"),title:"Align Right",children:(0,t.jsx)(x,{className:"w-4 h-4"})}),(0,t.jsx)("div",{className:"w-px h-6 bg-border mx-1"}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>z("formatBlock","blockquote"),title:"Quote",children:(0,t.jsx)(g,{className:"w-4 h-4"})}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>z("formatBlock","pre"),title:"Code Block",children:(0,t.jsx)(p,{className:"w-4 h-4"})}),(0,t.jsx)("div",{className:"w-px h-6 bg-border mx-1"}),(0,t.jsx)(a.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>z("removeFormat"),title:"Clear Formatting",children:(0,t.jsx)(b,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{ref:w,contentEditable:!0,className:"min-h-[300px] p-4 focus:outline-none prose prose-sm max-w-none [&_h1]:text-3xl [&_h1]:font-bold [&_h1]:mb-4 [&_h2]:text-2xl [&_h2]:font-bold [&_h2]:mb-3 [&_h3]:text-xl [&_h3]:font-bold [&_h3]:mb-2",onInput:T,onBlur:T,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),document.execCommand("insertHTML",!1,"<br><br>"),T())},onPaste:e=>{e.preventDefault();let t=e.clipboardData.getData("text/plain");document.execCommand("insertText",!1,t),T()},onFocus:()=>{if(w.current){let e=document.createRange(),t=window.getSelection();e.selectNodeContents(w.current),e.collapse(!1),null==t||t.removeAllRanges(),null==t||t.addRange(e)}},style:{minHeight:"300px",lineHeight:"1.6",direction:"ltr",unicodeBidi:"normal"},suppressContentEditableWarning:!0}),!l&&(0,t.jsx)("div",{className:"absolute top-4 left-4 text-muted-foreground pointer-events-none",children:N})]})]}):(0,t.jsx)("div",{className:"border rounded-lg p-4",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-1/4 mb-4"}),(0,t.jsx)("div",{className:"h-32 bg-muted rounded"})]})})}e.s(["createBlog",()=>M,"deleteBlog",()=>C,"getAllBlogsForManagement",()=>w,"updateBlog",()=>k],15605),e.i(95195);let N="http://localhost:5000/api/v1",w=async()=>{let e=await fetch("".concat(N,"/blog?limit=100"),{cache:"no-store",credentials:"include"});if(!e.ok)throw Error("Failed to fetch blogs");return(await e.json()).data},k=async(e,t)=>{let s=await fetch("".concat(N,"/blog/").concat(e),{method:"PATCH",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!s.ok)throw Error((await s.json().catch(()=>({}))).message||"HTTP ".concat(s.status,": ").concat(s.statusText));return(await s.json()).data},C=async e=>{let t=await fetch("".concat(N,"/blog/").concat(e),{method:"DELETE",credentials:"include"});if(!t.ok)throw Error((await t.json().catch(()=>({}))).message||"HTTP ".concat(t.status,": ").concat(t.statusText));return(await t.json()).data},M=async e=>{let t=await fetch("".concat(N,"/blog"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error((await t.json().catch(()=>({}))).message||"HTTP ".concat(t.status,": ").concat(t.statusText));return(await t.json()).data}},7788,e=>{"use strict";e.s(["default",()=>V],7788);var t=e.i(78196),s=e.i(49430),a=e.i(50399),l=e.i(45717),n=e.i(19455),i=e.i(45824),r=e.i(74966),d=e.i(91389),o=e.i(55146),c=e.i(37677),h=e.i(53950),m=e.i(21914),u=e.i(92383),x=e.i(99271),g=e.i(41369),p=e.i(68318),f=e.i(87454),j=e.i(6556),y=e.i(8431),b=e.i(93479),v=e.i(10204),N=e.i(76639),w=e.i(15288),k=e.i(94237),C=e.i(75157);let M=(0,k.cva)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function B(e){let{className:s,variant:a,...l}=e;return(0,t.jsx)("div",{className:(0,C.cn)(M({variant:a}),s),...l})}var z=e.i(23961),T=e.i(8482),T=T,D=e.i(50339),H=e.i(15605),E=e.i(6746);let L=y.z.object({title:y.z.string().min(3,"Title must be at least 3 characters"),content:y.z.string().min(1,"Content is required"),thumbnail:y.z.string().url("Must be a valid URL").optional().or(y.z.literal("")),tags:y.z.array(y.z.string().min(1,"Tag cannot be empty")),isFeatured:y.z.boolean(),isPublished:y.z.boolean()});function F(e){let{blog:a,isOpen:l,onClose:i,onSuccess:o}=e,[c,m]=(0,s.useState)(!1),[u,x]=(0,s.useState)(""),[g,p]=(0,s.useState)(!1),{register:y,handleSubmit:k,setValue:C,watch:M,formState:{errors:F},reset:P}=(0,f.useForm)({resolver:(0,j.zodResolver)(L),defaultValues:{title:a.title,content:a.content,thumbnail:a.thumbnail||"",tags:a.tags||[],isFeatured:a.isFeatured||!1,isPublished:a.isPublished||!1}}),R=M("tags")||[],_=M();(0,s.useEffect)(()=>{l&&a&&P({title:a.title,content:a.content,thumbnail:a.thumbnail||"",tags:a.tags||[],isFeatured:a.isFeatured||!1,isPublished:a.isPublished||!1})},[l,a,P]),(0,s.useEffect)(()=>{l&&a&&(console.log("EditBlogModal: Setting content:",a.content),C("content",a.content),setTimeout(()=>{console.log("EditBlogModal: Setting content again:",a.content),C("content",a.content)},200))},[l,a,C]);let S=()=>{u.trim()&&!R.includes(u.trim())&&(C("tags",[...R,u.trim()]),x(""))},q=async e=>{m(!0);try{let t={...e,thumbnail:e.thumbnail||void 0,tags:e.tags.filter(e=>""!==e.trim())};await (0,H.updateBlog)(a._id,t),E.toast.success("Blog updated successfully!"),o()}catch(e){console.error("Error updating blog:",e),E.toast.error(e instanceof Error?e.message:"Failed to update blog")}finally{m(!1)}};return(0,t.jsx)(N.Dialog,{open:l,onOpenChange:i,children:(0,t.jsxs)(N.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(N.DialogHeader,{children:[(0,t.jsx)(N.DialogTitle,{children:"Edit Blog"}),(0,t.jsx)(N.DialogDescription,{children:"Update your blog post details and content."})]}),(0,t.jsxs)("form",{onSubmit:k(q),className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.Label,{htmlFor:"title",children:"Title *"}),(0,t.jsx)(b.Input,{id:"title",...y("title"),placeholder:"Enter blog title"}),F.title&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:F.title.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.Label,{htmlFor:"thumbnail",children:"Thumbnail URL"}),(0,t.jsx)(b.Input,{id:"thumbnail",...y("thumbnail"),placeholder:"https://example.com/image.jpg"}),F.thumbnail&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:F.thumbnail.message})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.Label,{children:"Tags"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(b.Input,{value:u,onChange:e=>x(e.target.value),placeholder:"Add a tag",onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),S())}}),(0,t.jsx)(n.Button,{type:"button",onClick:S,size:"sm",children:(0,t.jsx)(r.Plus,{className:"w-4 h-4"})})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:R.map(e=>(0,t.jsxs)(B,{variant:"secondary",className:"flex items-center gap-1",children:[e,(0,t.jsx)(z.X,{className:"w-3 h-3 cursor-pointer hover:text-red-500",onClick:()=>{C("tags",R.filter(t=>t!==e))}})]},e))})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"isFeatured",...y("isFeatured"),className:"rounded"}),(0,t.jsx)(v.Label,{htmlFor:"isFeatured",children:"Featured"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:"isPublished",...y("isPublished"),className:"rounded"}),(0,t.jsx)(v.Label,{htmlFor:"isPublished",children:"Published"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(v.Label,{children:"Preview"}),(0,t.jsx)(n.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>p(!g),children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(T.default,{className:"w-4 h-4 mr-2"}),"Hide Preview"]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Eye,{className:"w-4 h-4 mr-2"}),"Show Preview"]})})]}),g&&(0,t.jsx)(w.Card,{className:"border-2 border-dashed",children:(0,t.jsx)(w.CardContent,{className:"p-4",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold line-clamp-2",children:_.title||"Blog Title"}),_.thumbnail&&(0,t.jsx)("div",{className:"relative h-32 w-full rounded-lg overflow-hidden",children:(0,t.jsx)(d.default,{src:_.thumbnail,alt:"Thumbnail preview",width:400,height:128,className:"w-full h-full object-cover"})}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,t.jsx)("div",{className:"prose prose-sm max-w-none [&_h1]:text-lg [&_h1]:font-bold [&_h1]:mb-2 [&_h2]:text-base [&_h2]:font-bold [&_h2]:mb-2 [&_h3]:text-sm [&_h3]:font-bold [&_h3]:mb-1 [&_img]:max-w-full [&_img]:h-auto [&_img]:rounded",dangerouslySetInnerHTML:{__html:_.content||"<p>Blog content will appear here...</p>"}})}),R.length>0&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:R.map(e=>(0,t.jsx)(B,{variant:"outline",className:"text-xs",children:e},e))})]})})})]})]}),(0,t.jsx)(w.Card,{children:(0,t.jsxs)(w.CardContent,{className:"p-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(v.Label,{htmlFor:"content",children:"Content *"}),(0,t.jsx)(D.default,{value:_.content||"",onChange:e=>C("content",e),placeholder:"Write your blog content here..."},a._id),F.content&&(0,t.jsx)("p",{className:"text-sm text-red-500",children:F.content.message})]}),(0,t.jsxs)("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-sm mb-2",children:"Editor Features:"}),(0,t.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1",children:[(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"Bold"}),", ",(0,t.jsx)("em",{children:"italic"}),", and"," ",(0,t.jsx)("u",{children:"underline"})," text formatting"]}),(0,t.jsx)("li",{children:"• Headings (H1, H2, H3) for structure"}),(0,t.jsx)("li",{children:"• Bullet and numbered lists"}),(0,t.jsx)("li",{children:"• Insert links and images by URL"}),(0,t.jsx)("li",{children:"• Text alignment (left, center, right)"}),(0,t.jsx)("li",{children:"• Blockquotes and code blocks"}),(0,t.jsx)("li",{children:"• Clear formatting option"})]})]})]})}),(0,t.jsxs)(N.DialogFooter,{children:[(0,t.jsx)(n.Button,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),(0,t.jsx)(n.Button,{type:"submit",disabled:c,children:c?"Updating...":"Update Blog"})]})]})]})})}var P=e.i(62639);function R(e){let{blog:a,isOpen:l,onClose:i,onSuccess:r}=e,[d,o]=(0,s.useState)(!1),c=async()=>{o(!0);try{await (0,H.deleteBlog)(a._id),E.toast.success("Blog deleted successfully!"),r()}catch(e){console.error("Error deleting blog:",e),E.toast.error(e instanceof Error?e.message:"Failed to delete blog")}finally{o(!1)}};return(0,t.jsx)(N.Dialog,{open:l,onOpenChange:i,children:(0,t.jsxs)(N.DialogContent,{className:"max-w-md",children:[(0,t.jsxs)(N.DialogHeader,{children:[(0,t.jsxs)(N.DialogTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(P.AlertTriangle,{className:"w-5 h-5 text-red-500"}),"Delete Blog"]}),(0,t.jsx)(N.DialogDescription,{children:"Are you sure you want to delete this blog? This action cannot be undone."})]}),(0,t.jsx)("div",{className:"py-4",children:(0,t.jsxs)("div",{className:"bg-muted p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium text-sm mb-1",children:"Blog to be deleted:"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground line-clamp-2",children:a.title})]})}),(0,t.jsxs)(N.DialogFooter,{children:[(0,t.jsx)(n.Button,{type:"button",variant:"outline",onClick:i,children:"Cancel"}),(0,t.jsxs)(n.Button,{type:"button",variant:"destructive",onClick:c,disabled:d,className:"flex items-center gap-2",children:[(0,t.jsx)(x.Trash2,{className:"w-4 h-4"}),d?"Deleting...":"Delete Blog"]})]})]})})}var _=e.i(50423);function S(e){let{blog:i,onBlogUpdate:r}=e,[f,j]=(0,s.useState)(!1),[y,b]=(0,s.useState)(!1),v=_.default.sanitize(i.content,{ALLOWED_TAGS:[]}).substring(0,100);return(0,t.jsxs)(l.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"group rounded-2xl border bg-card shadow-sm hover:shadow-xl transition-all duration-300 overflow-hidden flex flex-col h-full",children:[(0,t.jsx)(a.default,{href:"/blogs/".concat(i.slug),className:"relative block w-full",children:(0,t.jsxs)("div",{className:"relative h-52 w-full overflow-hidden",children:[(0,t.jsx)(d.default,{src:i.thumbnail,alt:i.title,fill:!0,className:"object-cover transition-transform duration-500 group-hover:scale-105",sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",priority:!1}),(0,t.jsx)("div",{className:"pointer-events-none absolute inset-0 bg-gradient-to-t from-background/80 via-background/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),(0,t.jsxs)("div",{className:"absolute left-4 top-4 flex flex-wrap gap-2",children:[i.isFeatured&&(0,t.jsx)("span",{className:"inline-flex items-center rounded-full bg-yellow-500/90 text-yellow-900 px-2.5 py-0.5 text-[10px] font-semibold shadow-sm",children:"Featured"}),!i.isPublished&&(0,t.jsx)("span",{className:"inline-flex items-center rounded-full bg-orange-500/90 text-orange-900 px-2.5 py-0.5 text-[10px] font-semibold shadow-sm",children:"Draft"})]}),(0,t.jsx)("div",{className:"absolute right-4 top-4 flex flex-wrap gap-2",children:i.tags.slice(0,2).map(e=>(0,t.jsx)("span",{className:"inline-flex items-center rounded-full bg-primary/90 text-primary-foreground px-2.5 py-0.5 text-[10px] font-semibold shadow-sm",children:e},e))})]})}),(0,t.jsxs)("div",{className:"flex flex-col flex-1 p-5",children:[(0,t.jsx)(a.default,{href:"/blogs/".concat(i.slug),children:(0,t.jsx)("h3",{className:"text-lg md:text-xl font-semibold tracking-tight text-foreground group-hover:text-primary transition-colors line-clamp-2 min-h-[3.5rem]",children:i.title})}),(0,t.jsxs)("p",{className:"mt-2 text-sm text-muted-foreground line-clamp-2 min-h-[2.5rem]",children:[v,"..."]}),(0,t.jsxs)("div",{className:"mt-auto",children:[(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-between text-xs text-muted-foreground",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("span",{className:"inline-flex h-6 items-center rounded-full bg-muted px-2 font-medium text-foreground",children:[(0,t.jsx)(p.User,{className:"w-3 h-3 mr-1"}),i.author.name]})}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(c.Calendar,{className:"h-4 w-4"}),new Date(i.createdAt).toLocaleDateString()]}),(0,t.jsxs)("span",{className:"flex items-center gap-1",children:[(0,t.jsx)(h.Eye,{className:"h-4 w-4"})," ",i.views]})]})]}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,t.jsxs)(a.default,{href:"/blogs/".concat(i.slug),className:"inline-flex items-center gap-2 text-primary hover:text-primary/80 font-medium text-sm transition-colors duration-200",children:["View Details",(0,t.jsx)(g.ExternalLink,{className:"w-4 h-4"})]}),(0,t.jsxs)(o.DropdownMenu,{children:[(0,t.jsx)(o.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(n.Button,{variant:"ghost",size:"sm",children:(0,t.jsx)(m.MoreVertical,{className:"w-4 h-4"})})}),(0,t.jsxs)(o.DropdownMenuContent,{align:"end",children:[(0,t.jsxs)(o.DropdownMenuItem,{onClick:()=>j(!0),children:[(0,t.jsx)(u.Edit,{className:"w-4 h-4 mr-2"}),"Edit Blog"]}),(0,t.jsxs)(o.DropdownMenuItem,{onClick:()=>b(!0),className:"text-red-600 focus:text-red-600",children:[(0,t.jsx)(x.Trash2,{className:"w-4 h-4 mr-2"}),"Delete Blog"]})]})]})]})]})]}),(0,t.jsx)(F,{blog:i,isOpen:f,onClose:()=>j(!1),onSuccess:()=>{null==r||r(),j(!1)}}),(0,t.jsx)(R,{blog:i,isOpen:y,onClose:()=>b(!1),onSuccess:()=>{null==r||r(),b(!1)}})]})}e.i(65814);var q=e.i(57951);function V(){let{isLoading:e}=(0,q.useAuth)(),[d,o]=(0,s.useState)([]),[c,h]=(0,s.useState)(!0),[m,u]=(0,s.useState)(!1),x=async()=>{try{let e=await (0,H.getAllBlogsForManagement)();o(e)}catch(e){console.error("Error fetching blogs:",e)}finally{h(!1)}},g=async()=>{u(!0),await x(),u(!1)};(0,s.useEffect)(()=>{x()},[]);let p=()=>{x()};return e?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]})}):c?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(i.RefreshCw,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-primary"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading blogs..."})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-background",children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Manage Blogs"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Create, edit, and manage your blog posts"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(n.Button,{variant:"outline",onClick:g,disabled:m,children:[(0,t.jsx)(i.RefreshCw,{className:"w-4 h-4 mr-2 ".concat(m?"animate-spin":"")}),"Refresh"]}),(0,t.jsx)(n.Button,{asChild:!0,children:(0,t.jsxs)(a.default,{href:"/dashboard/blogs/add-blog",children:[(0,t.jsx)(r.Plus,{className:"w-4 h-4 mr-2"}),"New Blog"]})})]})]}),0===d.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"w-24 h-24 mx-auto mb-4 bg-muted rounded-full flex items-center justify-center",children:(0,t.jsx)(r.Plus,{className:"w-12 h-12 text-muted-foreground"})}),(0,t.jsx)("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No blogs yet"}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"Get started by creating your first blog post"}),(0,t.jsx)(n.Button,{asChild:!0,children:(0,t.jsxs)(a.default,{href:"/dashboard/blogs/add-blog",children:[(0,t.jsx)(r.Plus,{className:"w-4 h-4 mr-2"}),"Create Blog"]})})]}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map((e,s)=>(0,t.jsx)(l.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1*s},children:(0,t.jsx)(S,{blog:e,onBlogUpdate:p})},e._id))}),d.length>0&&(0,t.jsxs)("div",{className:"mt-12 grid grid-cols-1 sm:grid-cols-3 gap-6",children:[(0,t.jsx)("div",{className:"bg-card rounded-lg p-6 border",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-100 dark:bg-blue-900/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(r.Plus,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:d.length}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Blogs"})]})]})}),(0,t.jsx)("div",{className:"bg-card rounded-lg p-6 border",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-green-100 dark:bg-green-900/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(r.Plus,{className:"w-5 h-5 text-green-600 dark:text-green-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:d.filter(e=>e.isPublished).length}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Published"})]})]})}),(0,t.jsx)("div",{className:"bg-card rounded-lg p-6 border",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-yellow-100 dark:bg-yellow-900/20 rounded-lg flex items-center justify-center",children:(0,t.jsx)(r.Plus,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-foreground",children:d.filter(e=>e.isFeatured).length}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Featured"})]})]})})]})]})})}}]);